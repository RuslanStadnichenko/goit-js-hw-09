{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackFormEl = document.querySelector('.feedback-form');\nlet userData = {};\nconst storageKey = 'feedback-form-state';\n\nconst fillFeedbackFormFields = () => {\n  try {\n    const userDataFromLS = JSON.parse(localStorage.getItem(storageKey));\n\n    if (userDataFromLS === null) {\n      return;\n    }\n\n    userData = userDataFromLS\n    feedbackFormEl.elements.email.value = userDataFromLS.email || \"\";\n    feedbackFormEl.elements.message.value = userDataFromLS.message || \"\";\n   } catch (err) {\n       console.error('Error while filling form fields:', err);\n  }\n\n};\n\nconst saveFormState = (event) => {\n  const feedbackFieldEl = event.target;\n  const feedbackFieldName = feedbackFieldEl.name;\n  const feedbackFieldValue = feedbackFieldEl.value.trim();\n \n\n\n  userData[feedbackFieldName] = feedbackFieldValue;\n  \n\n  localStorage.setItem(storageKey, JSON.stringify(userData));\n};\n\nconst onFeedbackFormSubmit = event => {\n  event.preventDefault();\n  const { email, message } = event.currentTarget.elements\n  if (email.value.trim() === \"\" || message.value.trim() === \"\") {\n    return alert(\"Не всі поля заповнені\")\n  }\n  userData.email = email.value.trim();\n  userData.message = message.value.trim();\n  console.log(userData);\n  \n\n  localStorage.removeItem(storageKey);\n  feedbackFormEl.reset();\n  userData = {};\n};\n\n\nfillFeedbackFormFields();\n\nfeedbackFormEl.addEventListener('input', saveFormState);\nfeedbackFormEl.addEventListener('submit', onFeedbackFormSubmit);"],"names":["feedbackFormEl","userData","storageKey","fillFeedbackFormFields","userDataFromLS","err","saveFormState","event","feedbackFieldEl","feedbackFieldName","feedbackFieldValue","onFeedbackFormSubmit","email","message"],"mappings":"oCAAA,MAAMA,EAAiB,SAAS,cAAc,gBAAgB,EAC9D,IAAIC,EAAW,CAAA,EACf,MAAMC,EAAa,sBAEbC,EAAyB,IAAM,CACnC,GAAI,CACF,MAAMC,EAAiB,KAAK,MAAM,aAAa,QAAQF,CAAU,CAAC,EAElE,GAAIE,IAAmB,KACrB,OAGFH,EAAWG,EACXJ,EAAe,SAAS,MAAM,MAAQI,EAAe,OAAS,GAC9DJ,EAAe,SAAS,QAAQ,MAAQI,EAAe,SAAW,EAClE,OAAQC,EAAK,CACV,QAAQ,MAAM,mCAAoCA,CAAG,CACzD,CAEH,EAEMC,EAAiBC,GAAU,CAC/B,MAAMC,EAAkBD,EAAM,OACxBE,EAAoBD,EAAgB,KACpCE,EAAqBF,EAAgB,MAAM,KAAI,EAIrDP,EAASQ,CAAiB,EAAIC,EAG9B,aAAa,QAAQR,EAAY,KAAK,UAAUD,CAAQ,CAAC,CAC3D,EAEMU,EAAuBJ,GAAS,CACpCA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAK,EAAO,QAAAC,CAAS,EAAGN,EAAM,cAAc,SAC/C,GAAIK,EAAM,MAAM,SAAW,IAAMC,EAAQ,MAAM,KAAM,IAAK,GACxD,OAAO,MAAM,uBAAuB,EAEtCZ,EAAS,MAAQW,EAAM,MAAM,KAAI,EACjCX,EAAS,QAAUY,EAAQ,MAAM,KAAI,EACrC,QAAQ,IAAIZ,CAAQ,EAGpB,aAAa,WAAWC,CAAU,EAClCF,EAAe,MAAK,EACpBC,EAAW,CAAA,CACb,EAGAE,IAEAH,EAAe,iBAAiB,QAASM,CAAa,EACtDN,EAAe,iBAAiB,SAAUW,CAAoB"}